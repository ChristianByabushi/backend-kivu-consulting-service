{%load static %}
<html>

<head>
    <meta charset="utf-8">
    <!-- <link href="invoice.css" media="print" rel="stylesheet"> -->
    <title>Invoice {{order.customer.name}}</title>
    <meta name="description" content="Invoice demo sample">
</head>

<body>
    <div id="header">
        <div class="image">
            <img src="{{ base_url }}src/images/logokcs.jpg" alt="not found">
        </div>
        <dl id="informations">
            <span>RCCM: CD/BKV/RCCM/21-B-00210</span>
            <span>ID Nat : 22-F4200-N95665Y</span>
            <span>Compte bancaire : 0017-220002-31009390001-03</span>
            <span>Nom de la Banque : Trust Merchant Bank SA.</span>
            <span>Swift Code : TRMSCD3L</span>
        </dl>
    </div>
    <div id="post-header">
        <div class="title">
            <h1>KIVU CONSULTING SERVICE Sarl</h1>
        </div>
        <div class="informations">
            <span>FACTURE</span>
            <span>N°FAC-000{{order.id}}</span>
            <span>Date de création : {{ order.formatted_order_date }} </span>
            <span>Echéance : {{order.deadline}} jours</span>
        </div>
    </div>

    <div class="address-container">
        <address class="from">
            <span>Déstinataire : </span>
            <!-- Additional "From" address content can go here -->
        </address>
        <address class="to">
            <span> {{order.customer.id}}</span>
            <span> {{order.customer.name}}</span>
            <span> {{order.customer.adresse}}</span>
            <span> {{order.phonerNumber}}</span>
        </address>
    </div>
    <table>
        <thead>
            <tr>
                <th>N°</th>
                <th>Description</th>
                <th>PU</th>
                {% if typeOrder == False %}
                <th>QTE</th>
                {% endif %}
                <th>PT</th>
            </tr>
        </thead>
        <tbody>
            {% if typeOrder == False %}

            {% for item in orderItems %}


            <tr>
                <td>{{ forloop.counter }}</td>
                <td style="text-align: center; width: 60%;">{{item.product.name}}</td>
                <td>{{item.unit_price}}</td>
                <td>${{item.quantity}}</td>
                <td>${{ item.computeSmallTotal}}</td>
            </tr>
            {% endfor %}

            {% else %}

            {% for item in serviceOrderItems %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td style="text-align: left; width: 60%;">{{item.description}}</td>
                <td>{{item.total_price}}</td>
                <td>${{ item.total_price}}</td>
            </tr>
            {% endfor %}
            {% endif %}

        </tbody>
    </table>
    <table id="footer">
        <tfoot>
            <tr>
                <td style="text-align: left; " class="totalCostLabel">Total</td>
                <td colspan="4">
                    ${{totalCost}}
                </td>
            </tr>
        </tfoot>
    </table>
    <h4 class="textAmount">
        Nous disons : <q> <em> <span>{{ totalCostInWords}} dollars</span> </q> </em>
    </h4>
    <p class="Signature">
        Sceau et Signature</em>
    </p>

    <!-- <div id="invoice-footer">
        <div class="title">
            <span>Coordonnées Bancaires</span>
        </div>
        <div class="body">
            <span>Bank Name : Trust Merchant Bank SA</span>
            <span>Count Name : KIVU CONSULTING SERVICE</span>
            <span>Count Number : 0017-220002-31009390001-03</span>
            <span>Swift Code : TRMSCD3L</span>
        </div>
    </div> -->
    <div id="invoice-adresse">
        <span>Adresse : 15 Av. Kasai/Ibanda, Bukavu/RD Congo</span>
        <span>Tél : +243(0) 993 467 347, 853 138 393, E-mail : <em>contact@kivu-cs.org</em></span>
        <span></span>
    </div>
</body>

</html>


<style>
    @page {
        margin: 10px;
        margin-left: 25px;
        margin-right: 25px;

        /* @bottom-left {
            color: #0b185f;
            content: 'contact@kivu-cs.org ';
            font-size: 9pt;
        }

         */

    }

    html {
        color: #14213d;
        font-family: Source Sans Pro;
        font-size: 11pt;
        line-height: 1.6;
    }

    body {
        margin: 0;
    }

    #header {
        display: flex;
        align-items: center;
        padding: 8px;
        border-bottom: 2px solid #061e4b;
    }

    .image {
        flex: 1;
        max-width: 200px;
    }

    .image img {
        width: 100%;
    }

    #informations {
        flex: 2;
        text-align: right;
        font-size: 8pt;
        color: #14213d;
        line-height: 0.7;
    }

    #informations span {
        display: block;
        margin-bottom: 10px;
    }

    #post-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }

    #post-header h1 {
        color: #02105e;
        font-size: 10pt;
        margin: 0;
    }

    #post-header .informations {
        margin-top: 5px;
        text-align: left;
        font-size: 10pt;
        line-height: 0.7;
    }

    #post-header .informations span {
        display: block;
        margin-bottom: 10px;
    }

    .address-container {
        display: flex;
        margin-left: 8.5cm;
        margin-top: 2cm;
        margin-bottom: 1cm;
    }

    .from,
    .to {
        flex: 1;
    }

    .address-container .from {
        margin-top: 10px;
        margin-left: 2.7cm;
        color: #061e4b;
    }

    .address-container .to {
        padding-top: 2px;
        padding-left: 2px;
        padding-right: 1px;
        text-align: center;
        font-weight: 300;
        border: 1px solid #02105e;
    }

    .address-container .to span {
        display: block;
    }

    h4.textAmount {
        margin-top: 1cm;
        text-align: center;
    }

    .textAmount span {
        font-style: italic;
    }

    p.Signature {

        margin-top: 2cm;
        margin-left: 5.86cm;
    }

    dt,
    dd {
        display: inline;
        margin: 0;
    }

    dt {
        color: #a9a;
    }

    dt::before {
        content: '';
        display: block;
    }

    dt::after {
        content: ':';
    }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th {
        border-bottom: .2mm solid #a9a;
        color: black;
        font-size: 10pt;
        font-weight: 400;
        padding-bottom: .25cm;
        text-transform: uppercase;
        background-color: rgb(245, 245, 13);
    }

    td {
        padding-top: 7mm;
    }

    th,
    td {
        border: .8px solid #02105e;
        padding: 8px;
        text-align: center;
    }

    th {
        background-color: rgb(245, 245, 13);
        font-weight: bold;
        text-transform: uppercase;
        color: black;
    }

    td:last-of-type {
        color: #02105e;
        font-weight: bold;
        text-align: right;
    }

    td:nth-of-type(2) {
        width: 40%;
        text-align: left;
    }

    td:nth-of-type(4) {
        text-align: center;
    }

    th,
    td {
        text-align: center;
    }

    th:first-of-type,
    td:first-of-type {
        text-align: center;
        margin-left: 5px;
    }

    th:last-of-type,
    td:last-of-type {
        text-align: right;
        font-weight: bold;
    }

    table#total {
        background: #f6f6f6;
        border-color: #f6f6f6;
        border-style: solid;
        border-width: 10px 3cm;
        bottom: 0;
        font-size: 20pt;
        margin: 0 -10px;
        position: absolute;
        width: 18cm;
    }


    #invoice-footer {
        margin-top: 3cm;
    }

    #invoice-footer .title span {
        border-bottom: 1px solid #061e4b;
        color: #061e4b;
        font-size: 11px;
        font-weight: bold;

    }

    #invoice-footer .body span {
        display: block;
        font-size: 11px;
        line-height: 15px;
    }

    #footer .totalCostLabel {
        border-right: 1px solid white;
        text-align: end;
    }

    #invoice-adresse {
        margin-top: 7cm;
    }

    #invoice-adresse span {
        display: block;
        font-size: 10px;
        line-height: 12px;
    }
</style>